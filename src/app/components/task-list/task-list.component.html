<p> ToDO list</p>

<ul class="task-list" *ngIf="!loading; else Loading">

  <form class="task-list__item" [formGroup]="newTask">

    <input class="item__input item__input--new-item"
           type="text"
           placeholder="new task..."
           formControlName="title">

    <input class="item__input item__input--new-date"
           type="text"
           formControlName="date">

    <button class="refactors-button refactors-button--add-button"
            type="submit"
            (click)="onAddTask(newTask)"
            [disabled]="newTask.invalid">
      <fa-icon [icon]="faPlus">
      </fa-icon>
    </button>

  </form>

  <ng-container *ngIf="formArray.length; else noTasks">

    <li class="task-list__item"
        *ngFor="let task of formArray.controls; let i = index"
        [formGroup]="task"
        [class.task-list__item--completed]="task.value.completed">

      <label class="item__check-icon-folder"
             (click)="toggleComplete(task)">

        <input class="item__checkbox"
               type="checkbox"
               formControlName="completed">

        <fa-icon *ngIf="task.value.completed; else NoCheck"
                 [icon]="faCheck">

        </fa-icon>

        <ng-template #NoCheck>
          <fa-icon [icon]="faNoCheck">
          </fa-icon>
        </ng-template>

      </label>

      <input type="text"
             class="item__input"
             formControlName="title">

      <input type="text"
             class="item__input item__input--date"
             formControlName="date">

      <button class="refactors-button refactors-button--complete-edit-button"
              type="button"
              (click)="onFinishEdit(task, i)">
        <fa-icon [icon]="faComplete">
        </fa-icon>
      </button>

      <button class="refactors-button refactors-button--edit-button"
              type="button"
              (click)="onEdit(i)">
        <fa-icon [icon]="faEdit">
        </fa-icon>
      </button>

      <button class="refactors-button"
              type="button"
              (click)="onDelete(task, i)">
        <fa-icon [icon]="faDelete">
        </fa-icon>
      </button>
    </li>

  </ng-container>
</ul>

<ng-template #Loading>
  <p class="no-list-paragraph">Loading...</p>
</ng-template>

<ng-template #noTasks>
  <p class="no-list-paragraph">No Tasks</p>
</ng-template>
